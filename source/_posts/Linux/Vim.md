---
title: Vim
date: 2018-05-06 02:17:25
categories: Linux
tags:
---

## 移动光标
在移动光标前输入数字n: 快速跳动 n 行， n 列

gg 跳转文件头
GG 跳转文件尾

n gg 跳转到第 n 行

## 替换
：%s/from/to/g   有%是全文替换，(没有%是当前行替换)，s即substitude，将from替换成to, 加 /g  是对这一行每个from 都替换成to， 不加/g 之替换这一行第一个出现的from
替换每一行行号，

原始文本, 假设光标在第一行
```txt
aaa aaa
aaa
```

:s/aaa/bbb/ ==> 
```txt
bbb aaa
aaa
```

:s/aaa/bbb/g ==> 
```txt
bbb bbb
aaa
```

:%s/aaa/bbb/g ==> 
```txt
bbb bbb
bbb
```

常用替换:
：%s/[0-9]\./ / g  将 [0-9]\.  (如 8.) 替换成 空格

##  多行注释
1. ctrl+v 进入可视化模式
2. 移动光标上移或者下移，选中多行的开头
3. 大写的I，进入插入模式，输入 #  或 //
4. esc.

## 撤销和重做
u 撤销（Undo）
U 撤销对整行的操作
Ctrl + r 重做（Redo），即撤销的撤销。

## 删除命令
x 删除当前字符

3x 删除当前光标开始向后三个字符

X 删除当前字符的前一个字符。X=dh

dl 删除当前字符， dl=x

dh 删除前一个字符

dd 删除当前行

dj 删除上一行

dk 删除下一行

10d 删除当前行开始的10行。

D 删除当前字符至行尾。D=d$

d$ 删除当前字符之后的所有字符（本行）

kdgg 删除当前行之前所有行（不包括当前行）

jdG（jd shift + g）   删除当前行之后所有行（不包括当前行）

:1,10d 删除1-10行

:11,$d 删除11行及以后所有的行

:1,$d 删除所有行

J(shift + j) 删除两行之间的空行，实际上是合并两行。

## 一行拷贝和粘贴, 剪切
yy 拷贝当前行
dd 剪切当前行

p  在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。

shift+p 在当前行前粘贴

## 多行拷贝和粘贴
方法0:
n yy 拷贝当前后开始的n行，比如2yy 拷贝两行
n yy 剪切当前后开始的n行，比如2yy 剪切两行


任务：将第9行至第15行的数据，复制到第16行
方法1:
：9，15 copy 16  或 ：9，15 co 16
由此可有：
：9，15 move 16  或 :9,15 m 16 将第9行到第15行的文本内容到第16行的后面  

方法2：
普通模式下 ctrl+v 进入可视模式
移动光标复制 y   yanked 猛拉 移动
esc 退出可视模式
复制 p 


## 剪切命令
正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按d即可剪切

ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴

:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。

:1, 10 m 20 将第1-10行移动到第20行之后。

## 退出命令
:wq 保存并退出

ZZ 保存并退出

:q! 强制退出并忽略所有更改

:e! 放弃所有修改，并打开原来文件。
